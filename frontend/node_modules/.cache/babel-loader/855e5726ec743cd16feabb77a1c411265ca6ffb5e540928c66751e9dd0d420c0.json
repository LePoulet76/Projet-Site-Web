{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\poula\\\\Desktop\\\\Projet-Site-Web-main\\\\Projet-Site-Web-main\\\\frontend\\\\src\\\\pages\\\\lobbyCreation.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { socket } from \"../socket\";\nimport { useInfoJoueur } from \"./InfoJoueurContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LobbyCreation() {\n  _s();\n  const [nomLobby, setNomLobby] = useState(\"\");\n  const [maxJoueurs, setMaxJoueurs] = useState(10);\n  const [nbTours, setNbTours] = useState(20);\n  const [genre, setGenre] = useState(\"Anime\");\n  const navigate = useNavigate();\n  const {\n    joueur\n  } = useInfoJoueur();\n  console.log(\"CONTENU COMPLET DE JOUEUR :\", joueur);\n  const changement = e => {\n    e.preventDefault(); //PAS DE RECHARGEMENT DE PAGE BORDEL\n    if (!joueur || !joueur.username) {\n      alert(\"‚õî Vous devez √™tre connect√© pour cr√©er une partie !\");\n      navigate('/login'); // Redirection imm√©diate\n      return;\n    }\n\n    // üîí 2. VALIDATION : V√©rifier que le lobby a un nom\n    if (!nomLobby.trim()) {\n      alert(\"‚ö†Ô∏è Veuillez donner un nom √† votre BlindTest !\");\n      return;\n    }\n    const settings = {\n      nom: nomLobby,\n      maxPlayers: maxJoueurs,\n      rounds: nbTours,\n      genre: genre,\n      playerName: (joueur === null || joueur === void 0 ? void 0 : joueur.username) || \"H√¥te\"\n    };\n    if (socket.connected) {\n      // CAS A : D√©j√† connect√© -> On envoie direct\n      console.log(\"‚ö° D√©j√† connect√©, envoi imm√©diat.\");\n      socket.emit(\"create_lobby\", settings);\n    } else {\n      // CAS B : Pas connect√© -> On connecte, on attend, puis on envoie\n      console.log(\"üîå Connexion en cours...\");\n      socket.connect();\n      socket.once(\"connect\", () => {\n        console.log(\"‚úÖ Connect√© ! Envoi de la cr√©ation...\");\n        socket.emit(\"create_lobby\", settings);\n      });\n    }\n  };\n  useEffect(() => {\n    socket.on(\"lobby_created\", data => {\n      navigate(`/ingame/${data.lobbyId}`);\n    });\n    return () => socket.off(\"lobby_created\");\n  }, [navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen w-full flex flex-col bg-cover bg-center overflow-hidden\",\n    style: {\n      backgroundImage: 'url(\"https://i.postimg.cc/Cxsv37Bv/Sans-titre-3-20260114234428.png\")'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center h-screen \",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-bold mb-6\",\n        children: \"Creation du BlindTest\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: changement,\n        className: \"bg-white p-6 rounded shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 mb-2\",\n            children: \"Nom du BlindTest\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: nomLobby,\n            onChange: e => setNomLobby(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 mb-2 mt-4\",\n            children: \"Nombre de Joueurs Max\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: maxJoueurs,\n            onChange: e => setMaxJoueurs(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 mb-2 mt-4\",\n            children: \"Nombre de Tours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: nbTours,\n            onChange: e => setNbTours(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 mb-2 mt-4\",\n            children: \"Genre Musical\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"w-full p-2 border border-gray-300 rounded\",\n            value: genre,\n            onChange: e => setGenre(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Anime\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Film\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Serie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\",\n          children: \"Cr\\xE9er le BlindTest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(LobbyCreation, \"b/PF4g7VkrPZCU5cL+KFXKJHh8A=\", false, function () {\n  return [useNavigate, useInfoJoueur];\n});\n_c = LobbyCreation;\nvar _c;\n$RefreshReg$(_c, \"LobbyCreation\");","map":{"version":3,"names":["React","useEffect","useState","socket","useInfoJoueur","useNavigate","jsxDEV","_jsxDEV","LobbyCreation","_s","nomLobby","setNomLobby","maxJoueurs","setMaxJoueurs","nbTours","setNbTours","genre","setGenre","navigate","joueur","console","log","changement","e","preventDefault","username","alert","trim","settings","nom","maxPlayers","rounds","playerName","connected","emit","connect","once","on","data","lobbyId","off","className","style","backgroundImage","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","_c","$RefreshReg$"],"sources":["C:/Users/poula/Desktop/Projet-Site-Web-main/Projet-Site-Web-main/frontend/src/pages/lobbyCreation.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { socket } from \"../socket\";\nimport { useInfoJoueur } from \"./InfoJoueurContext\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function LobbyCreation() {\n    const [nomLobby, setNomLobby] = useState(\"\");\n    const [maxJoueurs, setMaxJoueurs] = useState(10);\n    const [nbTours, setNbTours] = useState(20);\n    const [genre, setGenre] = useState(\"Anime\");\n    const navigate = useNavigate();\n    const { joueur } = useInfoJoueur();\n    console.log(\"CONTENU COMPLET DE JOUEUR :\", joueur);\n    const changement = (e) => {\n        e.preventDefault(); //PAS DE RECHARGEMENT DE PAGE BORDEL\n        if (!joueur || !joueur.username) {\n            alert(\"‚õî Vous devez √™tre connect√© pour cr√©er une partie !\");\n            navigate('/login'); // Redirection imm√©diate\n            return;\n        }\n\n        // üîí 2. VALIDATION : V√©rifier que le lobby a un nom\n        if (!nomLobby.trim()) {\n            alert(\"‚ö†Ô∏è Veuillez donner un nom √† votre BlindTest !\");\n            return;\n        }\n        const settings = {\n            nom: nomLobby,\n            maxPlayers: maxJoueurs,\n            rounds: nbTours,\n            genre: genre,\n            playerName: joueur?.username || \"H√¥te\"\n        };\n        \n        if (socket.connected) {\n            // CAS A : D√©j√† connect√© -> On envoie direct\n            console.log(\"‚ö° D√©j√† connect√©, envoi imm√©diat.\");\n            socket.emit(\"create_lobby\", settings);\n        } else {\n            // CAS B : Pas connect√© -> On connecte, on attend, puis on envoie\n            console.log(\"üîå Connexion en cours...\");\n            socket.connect();\n            socket.once(\"connect\", () => {\n                console.log(\"‚úÖ Connect√© ! Envoi de la cr√©ation...\");\n                socket.emit(\"create_lobby\", settings);\n            });\n        }\n};\n    useEffect(() => {\n        socket.on(\"lobby_created\", (data) => {\n            navigate(`/ingame/${data.lobbyId}`);\n        });\n\n        return () => socket.off(\"lobby_created\");\n    }, [navigate]);\n\n    return (\n        <div\n      className=\"min-h-screen w-full flex flex-col bg-cover bg-center overflow-hidden\"\n      style={{\n        backgroundImage:\n          'url(\"https://i.postimg.cc/Cxsv37Bv/Sans-titre-3-20260114234428.png\")',\n }}\n    >\n        <div className=\"flex flex-col items-center justify-center h-screen \">\n            <h1 className=\"text-4xl font-bold mb-6\">Creation du BlindTest</h1>\n            <form onSubmit={changement} className=\"bg-white p-6 rounded shadow-md\">\n                <div className=\"mb-4\">\n                    <label className=\"block text-gray-700 mb-2\">Nom du BlindTest</label>\n                    <input \n                        type=\"text\" \n                        value={nomLobby}\n                        onChange={(e) => setNomLobby(e.target.value)}/>\n                    <label className=\"block text-gray-700 mb-2 mt-4\">Nombre de Joueurs Max</label>\n                    <input \n                        type=\"text\" \n                        value={maxJoueurs}\n                        onChange={(e) => setMaxJoueurs(e.target.value)}/>\n                    <label className=\"block text-gray-700 mb-2 mt-4\">Nombre de Tours</label>\n                    <input \n                        type=\"text\" \n                        value={nbTours}\n                        onChange={(e) => setNbTours(e.target.value)}/>\n                    <label className=\"block text-gray-700 mb-2 mt-4\">Genre Musical</label>\n                    <select \n                        className=\"w-full p-2 border border-gray-300 rounded\"\n                        value={genre}\n                        onChange={(e) => setGenre(e.target.value)}>  \n                        <option>Anime</option>\n                        <option>Film</option>\n                        <option>Serie</option>\n                    </select>\n                </div>\n                <button type=\"submit\" className=\"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\">Cr√©er le BlindTest</button>\n            </form>\n        </div>\n\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}