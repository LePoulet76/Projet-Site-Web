{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\poula\\\\Desktop\\\\Projet-Site-Web-main\\\\Projet-Site-Web-main\\\\frontend\\\\src\\\\components\\\\JoinGame.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { socket } from \"../socket\";\nimport { useInfoJoueur } from \"../pages/InfoJoueurContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function JoinGame() {\n  _s();\n  const [codeJoin, setCodeJoin] = useState(\"\");\n  const navigate = useNavigate();\n  const {\n    joueur\n  } = useInfoJoueur();\n  useEffect(() => {\n    const handleSuccess = data => {\n      console.log(\"Rejoindre succ√®s, redirection vers :\", data.lobbyId);\n      navigate(`/ingame/${data.lobbyId}`);\n    };\n    socket.on(\"join_success\", handleSuccess);\n    return () => {\n      socket.off(\"join_success\", handleSuccess);\n    };\n  }, [navigate]);\n  const handleJoin = e => {\n    e.preventDefault();\n    if (!joueur || !joueur.username) {\n      alert(\"Vous devez √™tre connect√© pour cr√©er une partie !\");\n      navigate('/login');\n      return;\n    }\n    socket.connect();\n    // On attend que la connexion soit faite avant d'envoyer\n    socket.once(\"connect\", () => {\n      console.log(\"‚úÖ Connect√© ! ID Socket r√©cup√©r√© :\", socket.id);\n      console.log(\"üì® Envoi de la demande join_lobby...\");\n    });\n    socket.emit(\"join_lobby\", {\n      lobbyId: codeJoin.toUpperCase(),\n      playerName: (joueur === null || joueur === void 0 ? void 0 : joueur.username) || \"Invit√©_\",\n      password: \"\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-72\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleJoin,\n      className: \"bg-white/95 backdrop-blur-sm p-5 rounded-2xl shadow-2xl border border-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-gray-500 font-bold text-center mb-4 text-xs uppercase tracking-wider\",\n        children: \"Code de la partie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: codeJoin,\n          maxLength: 4,\n          placeholder: \"ABCD\",\n          onChange: e => setCodeJoin(e.target.value),\n          className: \"w-full h-16 text-center text-3xl font-black tracking-[0.5em] uppercase text-gray-800 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[#FF69B4] focus:ring-4 focus:ring-[#FF69B4]/10 transition-all placeholder-gray-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-[#FF69B4] hover:brightness-110 text-white font-bold py-3 px-4 rounded-xl shadow-lg shadow-pink-500/30 transition-transform active:scale-95\",\n        children: \"REJOINDRE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(JoinGame, \"wSI2LE5XypVPtXa8+ZVjszMYLx0=\", false, function () {\n  return [useNavigate, useInfoJoueur];\n});\n_c = JoinGame;\nvar _c;\n$RefreshReg$(_c, \"JoinGame\");","map":{"version":3,"names":["useState","useEffect","useNavigate","socket","useInfoJoueur","jsxDEV","_jsxDEV","JoinGame","_s","codeJoin","setCodeJoin","navigate","joueur","handleSuccess","data","console","log","lobbyId","on","off","handleJoin","e","preventDefault","username","alert","connect","once","id","emit","toUpperCase","playerName","password","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","value","maxLength","placeholder","onChange","target","_c","$RefreshReg$"],"sources":["C:/Users/poula/Desktop/Projet-Site-Web-main/Projet-Site-Web-main/frontend/src/components/JoinGame.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { socket } from \"../socket\";\nimport { useInfoJoueur } from \"../pages/InfoJoueurContext\";\n\nexport default function JoinGame() {\n    const [codeJoin, setCodeJoin] = useState(\"\");\n    const navigate = useNavigate();\n    const { joueur } = useInfoJoueur();\n    useEffect(() => {\n        const handleSuccess = (data) => {\n            console.log(\"Rejoindre succ√®s, redirection vers :\", data.lobbyId);\n            navigate(`/ingame/${data.lobbyId}`);\n        };\n        socket.on(\"join_success\", handleSuccess);\n        return () => {\n            socket.off(\"join_success\", handleSuccess);\n        };\n    }, [navigate]);\n    \n    const handleJoin = (e) => {\n        e.preventDefault();\n        if (!joueur || !joueur.username) {\n            alert(\"Vous devez √™tre connect√© pour cr√©er une partie !\");\n            navigate('/login');\n            return;\n        }\n        socket.connect();\n        // On attend que la connexion soit faite avant d'envoyer\n        socket.once(\"connect\", () => {\n            console.log(\"‚úÖ Connect√© ! ID Socket r√©cup√©r√© :\", socket.id);\n            console.log(\"üì® Envoi de la demande join_lobby...\");\n        });\n        socket.emit(\"join_lobby\", {\n            lobbyId: codeJoin.toUpperCase(),\n            playerName: joueur?.username || \"Invit√©_\",\n            password: \"\"\n        \n        });\n        \n    };\n    \n    return (\n        <div className=\"w-72\">\n            <form onSubmit={handleJoin} className=\"bg-white/95 backdrop-blur-sm p-5 rounded-2xl shadow-2xl border border-gray-100\">                     \n                <h3 className=\"text-gray-500 font-bold text-center mb-4 text-xs uppercase tracking-wider\">\n                    Code de la partie\n                </h3>\n\n                <div className=\"mb-4\">\n                    <input \n                        type=\"text\" \n                        value={codeJoin}\n                        maxLength={4}\n                        placeholder=\"ABCD\"\n                        onChange={(e) => setCodeJoin(e.target.value)}\n                        className=\"w-full h-16 text-center text-3xl font-black tracking-[0.5em] uppercase text-gray-800 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[#FF69B4] focus:ring-4 focus:ring-[#FF69B4]/10 transition-all placeholder-gray-300\"\n                    />\n                </div>\n                <button \n                    type=\"submit\" \n                    className=\"w-full bg-[#FF69B4] hover:brightness-110 text-white font-bold py-3 px-4 rounded-xl shadow-lg shadow-pink-500/30 transition-transform active:scale-95\"\n                >\n                    REJOINDRE\n                </button>\n            </form>\n        </div>\n    );\n}\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}